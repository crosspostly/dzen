/**
 * –ü–†–û–°–¢–û–ô –¢–ï–°–¢ –ê–ù–¢–ò–î–ï–¢–ï–ö–¢–û–†–ê
 * –¢–µ—Å—Ç–∏—Ä—É–µ–º –±–∞–∑–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ async/await
 */

import { AntiAIDetectorService } from './services/antiAIDetectorService';

function testAntiDetector() {
  console.log('üß™ –¢–ï–°–¢–ò–†–£–ï–ú –ê–ù–¢–ò–î–ï–¢–ï–ö–¢–û–†...');

  const detector = new AntiAIDetectorService({ minScore: 70 });

  // –¢–µ—Å—Ç–æ–≤—ã–µ —Ç–µ–∫—Å—Ç—ã
  const testTexts = [
    {
      name: 'AI-—Ç–µ–∫—Å—Ç (–ø–ª–æ—Ö–æ–π)',
      content: '–í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ —Å–ª–µ–¥—É–µ—Ç –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å. –ö–∞–∫ –∏–∑–≤–µ—Å—Ç–Ω–æ, –±–µ–∑—É—Å–ª–æ–≤–Ω–æ –æ—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥–≤–æ–¥—è –∏—Ç–æ–≥–∏.'
    },
    {
      name: '–ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —Ç–µ–∫—Å—Ç (—Ö–æ—Ä–æ—à–∏–π)',
      content: '–Ø –ø–æ—à–ª–∞ –Ω–∞ –∫—É—Ö–Ω—é. –í–∫–ª—é—á–∏–ª–∞ —á–∞–π–Ω–∏–∫. –ê –ø–æ—Ç–æ–º –ø–æ–Ω—è–ª–∞ - –Ω–∞–¥–æ –±—ã–ª–æ –µ—â—ë —á—Ç–æ-—Ç–æ —Å–¥–µ–ª–∞—Ç—å. –ü–æ–º–Ω—é, –∫–∞–∫ –≤ –¥–µ—Ç—Å—Ç–≤–µ –º–∞–º–∞ –≥–æ—Ç–æ–≤–∏–ª–∞ —ç—Ç–æ—Ç —á–∞–π. –ó–∞–ø–∞—Ö–ª–æ —Ä–æ–º–∞—à–∫–æ–π.'
    },
    {
      name: '–°—Ä–µ–¥–Ω–∏–π —Ç–µ–∫—Å—Ç',
      content: '–í—á–µ—Ä–∞ –ø—Ä–æ–∏–∑–æ—à–ª–æ —Ç–æ, —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ –≤—Å—ë. –Ø –¥—É–º–∞–ª–∞, —á—Ç–æ –∑–Ω–∞—é —ç—Ç–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞, –Ω–æ –æ–∫–∞–∑–∞–ª–æ—Å—å - –±—ã–ª–∞ –Ω–µ –ø—Ä–∞–≤–∞. ‚Äî –û—Ç–∫—É–¥–∞ —Ç—ã —ç—Ç–æ –∑–Ω–∞–µ—à—å? ‚Äî —Å–ø—Ä–æ—Å–∏–ª–∞ —è. –ï—ë –≥–æ–ª–æ—Å –¥—Ä–æ–∂–∞–ª. –ù–∞ —É–ª–∏—Ü–µ —à—ë–ª —Å–Ω–µ–≥.'
    }
  ];

  // –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  testTexts.forEach((test, index) => {
    console.log(`\nüìù –¢–µ—Å—Ç ${index + 1}: ${test.name}`);
    
    // –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤—ã–∑–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    detector.detectAI(test.content)
      .then(result => {
        console.log(`   –ë–∞–ª–ª: ${result.score}/100`);
        console.log(`   –°—Ç–∞—Ç—É—Å: ${result.passed ? '‚úÖ PASSED' : '‚ùå FAILED'}`);
        console.log(`   –†–∏—Å–∫: ${result.riskLevel}`);
        console.log(`   –ü—Ä–æ–±–ª–µ–º: ${result.issues.length}`);
        
        if (result.issues.length > 0) {
          console.log(`   –ü–µ—Ä–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞: ${result.issues[0].description}`);
        }

        if (index === testTexts.length - 1) {
          console.log('\n‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã');
        }
      })
      .catch(err => {
        console.error(`‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∞ ${index + 1}:`, err.message);
      });
  });
}

testAntiDetector();