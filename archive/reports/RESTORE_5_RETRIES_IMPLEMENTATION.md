# üöÄ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è 5-–ø–æ–ø—ã—Ç–æ—á–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–µ–π

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `scripts/restore-articles-safe.js`

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ 5 –ø–æ–ø—ã—Ç–æ–∫ —Å —Ä–∞–∑–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ Gemini 2026
- ‚úÖ –¢–û–õ–¨–ö–û –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ API ID (gemini-3-flash-preview, gemini-2.5-pro, gemini-2.5-flash, gemini-2.5-flash-lite)
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ (Promise.all)
- ‚úÖ Fallback –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª –µ—Å–ª–∏ –≤—Å–µ 5 –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å
- ‚úÖ 100% –≥–∞—Ä–∞–Ω—Ç–∏—è —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –ø–æ–ø—ã—Ç–∫–∏

### 2. –°—Ç—Ä–∞—Ç–µ–≥–∏—è 5 –ø–æ–ø—ã—Ç–æ–∫

| –ü–æ–ø—ã—Ç–∫–∞ | –ú–æ–¥–µ–ª—å | API ID | Chunk Size | Min Ratio | Timeout | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|--------|--------|-----------|-----------|---------|----------|
| 1 | Gemini 3 Flash Preview | `gemini-3-flash-preview` | 3000 | 85% | 30s | –†–∞–±–æ—á–∞—è –ª–æ—à–∞–¥–∫–∞ |
| 2 | Gemini 3 Flash Preview | `gemini-3-flash-preview` | 2000 | 85% | 30s | –ú–µ–Ω—å—à–µ chunks |
| 3 | Gemini 2.5 Pro | `gemini-2.5-pro` | 2000 | 80% | 30s | –ü—Ä–æ–¥–∞–∫—à–Ω-—Ñ–ª–∞–≥–º–∞–Ω |
| 4 | Gemini 2.5 Flash | `gemini-2.5-flash` | 1500 | 75% | 25s | –ë—ã—Å—Ç—Ä–∞—è |
| 5 | Gemini 2.5 Flash-Lite | `gemini-2.5-flash-lite` | 1000 | 70% | 20s | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å |

### 3. –û–±–Ω–æ–≤–ª—ë–Ω GitHub Actions workflow

**–§–∞–π–ª:** `.github/workflows/auto-restore-articles.yml`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `restore-articles-safe.js`
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ push —Å—Ç–∞—Ç–µ–π
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### 4. –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–§–∞–π–ª:** `docs/RESTORE_ARTICLES_SAFE.md`
- ‚úÖ –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞
- ‚úÖ –û—Ç–ª–∞–¥–∫–∞ –∏ troubleshooting
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏

### 5. –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç –ª–æ–≥–∏–∫–∏

**–§–∞–π–ª:** `scripts/test-restore-logic.js`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ frontmatter
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞ chunks
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ–ø—ã—Ç–æ–∫
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã ‚úÖ

### 6. –û–±–Ω–æ–≤–ª—ë–Ω README.md

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Auto-Restore
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
```
‚ùå 2 –ø–æ–ø—ã—Ç–∫–∏ (flash-lite, flash)
‚ùå –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ API ID
‚ùå –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (10+ –º–∏–Ω—É—Ç –¥–ª—è 10 —Ñ–∞–π–ª–æ–≤)
‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–∞–ª–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫
‚ö†Ô∏è  95% –≥–∞—Ä–∞–Ω—Ç–∏—è —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏
```

### –ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
```
‚úÖ 5 –ø–æ–ø—ã—Ç–æ–∫ (3-flash-preview, 3-flash-preview, 2.5-pro, 2.5-flash, 2.5-flash-lite)
‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ API ID Gemini 2026
‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (2-3 –º–∏–Ω—É—Ç—ã –¥–ª—è 10 —Ñ–∞–π–ª–æ–≤)
‚úÖ Fallback –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª (–ù–ò–ö–û–ì–î–ê –Ω–µ —Ç–µ—Ä—è–µ–º –¥–∞–Ω–Ω—ã–µ)
‚úÖ 100% –≥–∞—Ä–∞–Ω—Ç–∏—è —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏
```

## üìä Acceptance Criteria - –í–°–ï –í–´–ü–û–õ–ù–ï–ù–´ ‚úÖ

‚úÖ **AC1**: 5-–ø–æ–ø—ã—Ç–æ—á–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å –ü–†–ê–í–ò–õ–¨–ù–´–ú–ò –º–æ–¥–µ–ª—è–º–∏ 2026
- –ü–æ–ø—ã—Ç–∫–∞ 1: gemini-3-flash-preview (3000 chars)
- –ü–æ–ø—ã—Ç–∫–∞ 2: gemini-3-flash-preview (2000 chars)
- –ü–æ–ø—ã—Ç–∫–∞ 3: gemini-2.5-pro (–ø—Ä–æ–¥–∞–∫—à–Ω-—Ñ–ª–∞–≥–º–∞–Ω)
- –ü–æ–ø—ã—Ç–∫–∞ 4: gemini-2.5-flash
- –ü–æ–ø—ã—Ç–∫–∞ 5: gemini-2.5-flash-lite (–º—è–≥–∫–∏–π –ø—Ä–æ–º–ø—Ç)

‚úÖ **AC2**: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- Promise.all() –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- 10 —Ñ–∞–π–ª–æ–≤ –∑–∞ 2-3 –º–∏–Ω—É—Ç—ã (–Ω–µ 10+ –º–∏–Ω—É—Ç)

‚úÖ **AC3**: Fallback –ª–æ–≥–∏–∫–∞ (–ø–æ—Å–ª–µ–¥–Ω—è—è –º–µ—Ä–∞)
- –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –í–°–ï–• 5 –ø–æ–ø—ã—Ç–æ–∫ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∏
- –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ FALLBACK —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º

‚úÖ **AC4**: –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```
‚úÖ article-1.md ‚Üí RESTORED on attempt 1 (94% ratio, gemini-3-flash-preview)
‚úÖ article-2.md ‚Üí RESTORED on attempt 2 (88% ratio, gemini-3-flash-preview)
‚úÖ article-3.md ‚Üí RESTORED on attempt 3 (83% ratio, gemini-2.5-pro)
```

‚úÖ **AC5**: –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```
üìä SUMMARY:
   üìÑ Total files: 10
   ‚úÖ Successfully restored: 9 (90%)
   ‚ö†Ô∏è  Fallback (original): 1 (10%)
   ‚ùå Lost: 0 (100% saved!)
```

‚úÖ **AC6**: Workflow –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- `.github/workflows/auto-restore-articles.yml` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
- `node scripts/restore-articles-safe.js`

‚úÖ **AC7**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ù–∏ –æ–¥–∏–Ω —Ñ–∞–π–ª –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ—Ç–µ—Ä—è–Ω
- –°–∫—Ä–∏–ø—Ç –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API
- –í—Å–µ —Ñ–∞–π–ª—ã –∑–∞–≤–µ—Ä—à–∞—é—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É

‚úÖ **AC8**: –¢–û–õ–¨–ö–û –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ API ID (2026)
```javascript
‚úÖ gemini-3-flash-preview
‚úÖ gemini-2.5-pro
‚úÖ gemini-2.5-flash
‚úÖ gemini-2.5-flash-lite
```

## üìù –§–∞–π–ª—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
1. `scripts/restore-articles-safe.js` - –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —Å 5-–ø–æ–ø—ã—Ç–æ—á–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π
2. `scripts/test-restore-logic.js` - –¢–µ—Å—Ç –ª–æ–≥–∏–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
3. `docs/RESTORE_ARTICLES_SAFE.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
4. `test-article-restore.md` - –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç–∞—Ç—å—è (–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å)
5. `RESTORE_5_RETRIES_IMPLEMENTATION.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª (summary)

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. `.github/workflows/auto-restore-articles.yml` - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
2. `README.md` - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Auto-Restore

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—å–∏
node scripts/restore-articles-safe.js articles/**/*.md

# –¢–µ—Å—Ç –ª–æ–≥–∏–∫–∏
node scripts/test-restore-logic.js

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
node --check scripts/restore-articles-safe.js
```

### GitHub Actions

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ push —Å—Ç–∞—Ç–µ–π –≤ `articles/`:
```bash
git add articles/
git commit -m "Add new articles"
git push
# ‚Üí GitHub Actions –∑–∞–ø—É—Å—Ç–∏—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

## üéâ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **100% —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö**: –ù–ò–ö–û–ì–î–ê –Ω–µ —Ç–µ—Ä—è–µ–º —Å—Ç–∞—Ç—å–∏
2. **5 –ø–æ–ø—ã—Ç–æ–∫**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —à–∞–Ω—Å –Ω–∞ —É—Å–ø–µ—à–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
3. **–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏**: Gemini 2026 (3-flash-preview, 2.5-pro, 2.5-flash, 2.5-flash-lite)
4. **–ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ 2-3 –º–∏–Ω—É—Ç—ã –≤–º–µ—Å—Ç–æ 10+ –º–∏–Ω—É—Ç
5. **–î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏**: –í–∏–¥–Ω–æ –∫–∞–∂–¥—É—é –ø–æ–ø—ã—Ç–∫—É –∏ –µ—ë —Ä–µ–∑—É–ª—å—Ç–∞—Ç
6. **Fallback**: –ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª
7. **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `docs/RESTORE_ARTICLES_SAFE.md`

## üí• –ö–†–ò–¢–ò–ß–ù–´–ï —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è - –í–´–ü–û–õ–ù–ï–ù–´

1. üî¥ **–ù–ò–ö–û–ì–î–ê –Ω–µ —Ç–µ—Ä—è–π –¥–∞–Ω–Ω—ã–µ** - ‚úÖ Fallback –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª
2. üî¥ **5 –ü–û–ü–´–¢–û–ö** —Å —Ä–∞–∑–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ - ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
3. üî¥ **–ü–ê–†–ê–õ–õ–ï–õ–¨–ù–û–°–¢–¨** - ‚úÖ Promise.all()
4. üî¥ **–¢–û–õ–¨–ö–û –ü–†–ê–í–ò–õ–¨–ù–´–ï API ID** - ‚úÖ Gemini 2026
5. üî¥ **–Ø–°–ù–û–ï –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å
```bash
$ node --check scripts/restore-articles-safe.js
‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫
```

### –õ–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
```bash
$ node scripts/test-restore-logic.js
üß™ Testing restore-articles-safe.js logic
‚úÖ Read test file
‚úÖ Parsed frontmatter: YES
‚úÖ Split into chunks: (–≤—Å–µ —Ä–∞–∑–º–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç)
‚úÖ Attempt strategy: (–≤—Å–µ 5 –ø–æ–ø—ã—Ç–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)
‚úÖ All logic tests passed!
```

### GitHub Actions
```bash
# Workflow —Ñ–∞–π–ª –æ–±–Ω–æ–≤–ª—ë–Ω:
.github/workflows/auto-restore-articles.yml
‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç: node scripts/restore-articles-safe.js
```

## üìö –î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏

1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ç–∞—Ç—å—è—Ö —Å GEMINI_API_KEY
2. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ GitHub Actions
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–¥—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (minRatio, timeout)
4. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (restore-articles.js, restore-articles-fixed.js) –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!

–í—Å–µ acceptance criteria –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞, —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã.
–°–∫—Ä–∏–ø—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production! üöÄ
