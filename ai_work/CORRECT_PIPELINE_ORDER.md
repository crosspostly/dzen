# üî• –ö–†–ò–¢–ò–ß–ù–û: –ü–†–ê–í–ò–õ–¨–ù–´–ô –ü–û–†–Ø–î–û–ö –≠–¢–ê–ü–û–í

**–°—Ç–∞—Ç—É—Å**: üöß URGENT - –°–∏—Å—Ç–µ–º–∞ –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û —Ç—Ä–µ–±–∞ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏—Ä–æ–≤–∞—Ç—å!
**–ü—Ä–æ–±–ª–µ–º–∞**: Stage 3 –∏ Stage 4 –ø–æ–º–µ–Ω—è–Ω—ã –º–µ—Å—Ç–∞–º–∏ (–ü–†–û–í–û–ù–û!)
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π**: cto-new[bot] (PR #131)

---

# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ô –ü–û—Ä–Ø–¥–û–ö (PR #131):

```
Stage 0: PlotBible
  ‚Üì
Stage 1: Episodes Generation
  ‚Üì
Stage 2: Article Assembly (AI-–¥–µ—Ç–µ–∫—Ü–∏—è 60-70%)
  ‚Üì
Stage 3: Voice Restoration (DZEN GURU) ‚Üí Phase2 >= 85 ‚úÖ
  ‚Üì
Stage 4: Phase 2 Anti-Detection ‚ùå –ü–†–û–ë–õ–ï–ú–ê!
  |      (Perplexity + Burstiness + Authentic)
  |      ‚Üì
  |      IF Score < 80:
  |        ‚Üí RETURN TO STAGE 3 ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!
  |        ‚Üí Stage 3 —Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç—å—é
  |        ‚Üí –ü–†–û–ì–†–´–í–ê–´–ú –í—Å–µ, —á—Ç–æ —Å–¥–µ–ª–∞–ª–∏ –≤ Stage 4! üí•
  |        ‚Üí –ó–ù–ê–ß–ò–¢ Stage 4 –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚ùå
  ‚Üì
Stage 5: Quality Checklist
```

### –ü–û–ß–ï–ú–£ –≠–¢–û –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
1. Stage 3 –≤—ã–ø—É–ª–Ω–µ–Ω: –¥–∏–∞–ª–æ–≥–∏ –≤ –¥–µ—Ñ–∏—Å–∞—Ö, –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ –ü–ï–†–ï–≤–û–î–´, Phase2 = 85 ‚úÖ
2. Stage 4 –Ω–∞—á–∏–Ω–∞–µ—Ç: –ø—Ä–∏–º–µ–Ω—è–µ–º Perplexity + Burstiness
3. Gatekeeper –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–æ–≤—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∏ –≥–æ–≤–æ—Ä–∏—Ç: Score = 65 (< 80)
4. **–ù–ê–ß–ò–ù–ê–ï–¢–°–Ø –ü–†–û–ë–õ–ï–ú–ê**: –ù—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ Stage 3
5. Stage 3 –≤—ã–ø—É–ª–Ω—è–µ—Ç—Å—è —Å–Ω–æ–≤–∞: **–ù–û –û–ù–ê –ü–û–¢–û–º –ò–ì–ù–û–†–ò–†–£–ï–¢ Stage 4 —Ä–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏–∏!**
6. –ù–æ–≤—ã–µ –¥–∏–∞–ª–æ–≥–∏ –ú–û–ì–£–¢ –≤–∫–ª—é—á–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –Ω–∞–±–æ—Ä—ã —Ñ—Ä–∞–∑ (AI-–∫–ª–∏—à–µ)
7. **–†–û–í–ù–û: Stage 4 –∏ –° –ü–ï—Ä–≤–æ–≥–æ –ø—Ä–æ–ø—É—Å–∫–∞ Score < 80, –æ –≤—Ç–æ—Ä–æ–º - —Ç–µ–º –±–æ–ª–µ–µ!** üí•

---

# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–´–ô –ü–û–†–Ø–¥–û–ö:

```
Stage 0: PlotBible
  ‚Üì
Stage 1: Episodes Generation + AUTO-RESTORE
         (IF Phase2 < 70: regenerate max 3 times)
         OUTPUT: Phase2 >= 70 ‚úÖ
  ‚Üì
Stage 2: Article Assembly
         (—Å–æ–±–∏—Ä–∞–µ–º —ç–ø–∏–∑–æ–¥—ã + intro/climax/resolution)
         AI-detection: 60-70% (–¥–æ–ø—É—Å—Ç–∏–º–æ)
  ‚Üì
üî§ Stage 3: Voice Restoration + DZEN GURU RULES
         (–ö–û–ù–¢–†–û–õ–¨–ù–û–ï –ú–ï–°–¢–û!)
  |
  |‚îÄ‚îÄ –î–∏–∞–ª–æ–≥–∏ –≤ –¥–µ—Ñ–∏—Å–∞—Ö
  |‚îÄ‚îÄ –ú–∞–∫—Å–∏–º—É–º 3 –∏–º–µ–Ω–∏
  |‚îÄ‚îÄ –ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ SHORT/LONG
  |‚îÄ‚îÄ NO AI-–∫–ª–∏—à–µ
  |‚îÄ‚îÄ –ü–µ—Ä—Å–æ–Ω–∞–∂ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
  |‚îÄ‚îÄ –û–ó–í–£–ß–ò–¢–¨ –í–°–õ–£–•
  |
  |‚îÄ‚îÄ IF Phase2 >= 85: CONTINUE ‚úÖ
  |‚îÄ‚îÄ IF Phase2 < 85: AUTO-RESTORE (max 2 times)
  |‚îÄ‚îÄ IF STILL < 85: REGENERATE Stage 2 (–≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —ç—Ç–∞–ø)
  ‚Üì
üî• Stage 4: Phase 2 Anti-Detection (–ó–ê–©–ò–¢–ê –û–¢ –ò–ò)
         (–ù–ê–ö–û–ù–ï–¶! –í–°–ï –¥–∏–∞–ª–æ–≥–∏ –£–ñ–ï –û–ù–ê–õ–ò!)
  |
  |‚îÄ‚îÄ Step 1: Perplexity Controller
  |         (—Ä–µ–¥–∫–∏–µ —Å–ª–æ–≤–∞, –∞—Ä—Ö–∞–∏–∑–º—ã)
  |         Perplexity >= 3.0? ‚úÖ
  |
  |‚îÄ‚îÄ Step 2: Burstiness Optimizer
  |         (–≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª–∏–Ω)
  |         StdDev >= 6.5? ‚úÖ
  |
  |‚îÄ‚îÄ Step 3: Authentic Narrative Engine
  |         (–µ—Å–ª–∏ Stage 3 –≤—ã–ø–æ–ª–Ω–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ - –º–æ–¥—É–ª—å –õ–ò–®–¨ –¥–æ–±–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª–∏)
  |         Authenticity >= 75? ‚úÖ
  |
  |‚îÄ‚îÄ Step 4: Adversarial Gatekeeper
  |         (–ü–†–û–í–ï–†–ö–ê –í–°–ï–• –ú–ï–¢–†–ò–ö)
  |         ‚úÖ Perplexity >= 3.0?
  |         ‚úÖ Burstiness >= 6.5?
  |         ‚úÖ Authenticity >= 75?
  |         ‚úÖ No clich√©s?
  |         ‚úÖ Dialogs 40-50%?
  |         ‚úÖ Character evolved?
  |         ‚úÖ Content 1500-2500 chars?
  |         ‚úÖ Final Score >= 80/100?
  |
  |‚îÄ‚îÄ IF ALL ‚úÖ: GO TO STAGE 5
  |‚îÄ‚îÄ IF ANY ‚ùå: 
  |        REWIND TO STAGE 3 (–ù–ï –ö Stage 2!)
  |        (Stage 3 –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç, –Ω–æ —Å–Ω–æ–≤–∞ –Ω–∞ STAGE 4!
  |        –ù–ï —Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç—å—é –ø–æ–ª–Ω–æ—Å—Ç—å—é!)
  ‚Üì
üìä Stage 5: Quality Checklist (10 –ø—É–Ω–∫—Ç–æ–≤)
         (–§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–û–≤–ï—Ä–ö–ê –ß–ï–õ–û–í–ï–ö–æ–º)
  |
  |‚îÄ‚îÄ First sentence catches attention?
  |‚îÄ‚îÄ Turning point at 30%?
  |‚îÄ‚îÄ Climax at 60%?
  |‚îÄ‚îÄ Reveal at 85%?
  |‚îÄ‚îÄ Closed ending?
  |‚îÄ‚îÄ Readable aloud naturally?
  |‚îÄ‚îÄ No AI clich√©s?
  |‚îÄ‚îÄ Dialogs 40-50%?
  |‚îÄ‚îÄ Character changed?
  |‚îÄ‚îÄ Max 3 names?
  |
  |‚îÄ‚îÄ SCORE >= 8/10: PUBLISH ‚úÖ
  |‚îÄ‚îÄ SCORE < 8/10: REWIND TO STAGE 3
  ‚Üì
üöÄ PUBLISH TO DZEN
```

---

# üìù –ö–û–£–ß–ò –†–ï–®–ê–Ø (Pseudo-code):

```javascript
async function generateArticle(topic) {
  // STAGE 0
  const plotBible = await generatePlotBible(topic);
  
  // STAGE 1
  const episodes = [];
  for (let i = 0; i < 7; i++) {
    let episode = await generateEpisode(plotBible);
    let phase2 = calculatePhase2Score(episode);
    let attempts = 0;
    
    while (phase2 < 70 && attempts < 3) {
      episode = await autoRestore(episode); // Stage 1 restoration
      phase2 = calculatePhase2Score(episode);
      attempts++;
    }
    
    if (phase2 >= 70) {
      episodes.push(episode);
    }
  }
  
  // STAGE 2
  let article = await assembleArticle(episodes);
  // AI detection here: ~60-70% (acceptable)
  
  // STAGE 3 (LOOP START)
  let stage3Passed = false;
  let stage3Attempts = 0;
  
  while (!stage3Passed && stage3Attempts < 3) {
    article = await applyDzenGuruRules(article);
    article = await voiceRestoration(article);
    
    let phase2 = calculatePhase2Score(article);
    
    if (phase2 >= 85) {
      stage3Passed = true;
      console.log('‚úÖ Stage 3 PASSED');
    } else {
      console.log('‚ö†Ô∏è Stage 3 failed, restoring...');
      stage3Attempts++;
    }
  }
  
  if (!stage3Passed) {
    console.log('‚ùå Stage 3 failed, regenerating Article from Stage 2');
    // Regenerate Stage 2
    return generateArticle(topic);
  }
  
  // STAGE 4 (LOOP START) - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ Stage 3 PASSED!
  let stage4Passed = false;
  let stage4Attempts = 0;
  
  while (!stage4Passed && stage4Attempts < 2) {
    // Step 1: Perplexity
    article = perplexityController(article);
    
    // Step 2: Burstiness
    article = burstinessOptimizer(article);
    
    // Step 3: Authentic (–û–°–¢–û–†–û–ñ–ù–û! –Ω–µ –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –¥–∏–∞–ª–æ–≥–∏!)
    article = authenticEngine(article);
    
    // Step 4: Gatekeeper (–ü–†–û–í–ï–†–ö–ê)
    const score = gatekeeper.assess(article);
    
    if (score.overallScore >= 80) {
      stage4Passed = true;
      console.log('‚úÖ Stage 4 PASSED');
    } else {
      console.log('‚ö†Ô∏è Stage 4 failed, returning to Stage 3');
      stage4Attempts++;
      // –í–ê–ñ–ù–û: –ù–ï —Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º Stage 2!
      // –ü—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ Stage 3
    }
  }
  
  if (!stage4Passed) {
    console.log('‚ùå Stage 4 failed multiple times');
    return generateArticle(topic);
  }
  
  // STAGE 5
  const checklist = await runQualityChecklist(article);
  
  if (checklist.score >= 8) {
    console.log('‚úÖ PUBLISH!');
    return article;
  } else {
    console.log('‚ö†Ô∏è Checklist failed, returning to Stage 3');
    // –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ Stage 3 (–Ω–µ Stage 2!)
    return generateArticle(topic); // –∏–ª–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª?
  }
}
```

---

# üöß –ß–¢–û –ù–£–ñ–ù–û –ò–°–ü–†–ê–í–ò–¢–¨ –í PR #131:

| –î–æ–∫—É–º–µ–Ω—Ç | –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|----------|----------|
| `ai_work/AI_TASK_BRIEFING.md` | Stage 3 –∏ 4 –ø–æ–º–µ–Ω—è–Ω—ã –º–µ—Å—Ç–∞–º–∏ | **–ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫** |
| `stage-3-restore.md` | –û–ø–∏—Å—ã–≤–∞–µ—Ç –∫–∞–∫ –ö–û–ù–ï–ß–ù–´–ô stage | **–°–∫–∞–∑–∞—Ç—å —á—Ç–æ —ç—Ç–æ –ü–ï–†–ï–î anti-detection** |
| `stage-4-anti-detection.md` | –û–ø–∏—Å—ã–≤–∞–µ—Ç –∫–∞–∫ –ü–û–°–õ–ï–î–ù–ò–ô –ø–µ—Ä–µ–¥ checklist | **–°–∫–∞–∑–∞—Ç—å —á—Ç–æ –æ–Ω –ü–û–°–õ–ï–î–ù–ò–ô —ç—Ç–∞–ø –æ–±—Ä–∞–±–æ—Ç–∫–∏** |
| `stage-5-checklist.md` | –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–∏–Ω–∞–ª | ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å |
| `contentFactoryOrchestrator.ts` | (–µ—Å–ª–∏ —Å–æ–∑–¥–∞–Ω) | **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ª–æ–≤–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞** |

---

# üåü –í–´–í–û–î:

**–¢–´ –ê–ë–°–û–õ–Æ–¢–ù–û –ü–†–ê–í!**

–ü–æ—Ä—è–¥–æ–∫ –ö–†–ò–¢–ò–ß–ï–ù:

1. **Stage 3 = Voice + DZEN GURU = –ñ–ò–í–û–¢–ê –†–ï–ß–¨** 
2. **Stage 4 = Anti-Detection = –ó–ê–©–ò–¢–ê –û–¢ –ò–ò** (–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –ñ–ò–í–û–ú–£ —Ç–µ–∫—Å—Ç—É!)
3. **Stage 5 = Human Checklist = –§–ò–ù–ê–õ–ö–ê**

–ï—Å–ª–∏ –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å Stage 3 –∏ 4:
- –ü—Ä–∏–º–µ–Ω—è–µ–º Anti-Detection –∫ –µ—â—ë-–Ω–µ-–æ—Ç—Ä–µ—Å—Ç–∞–≤—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É —Ç–µ–∫—Å—Ç—É
- –ö–æ–≥–¥–∞ –≤–µ—Ä–Ω—ë–º—Å—è –≤ Stage 3, –ø–æ—Ç–µ—Ä—è–µ–º –≤—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ Stage 4
- **–í–ï–ß–ù–´–ô –¶–ò–ö–õ –ë–ï–ó –†–ï–ó–£–õ–¨–¢–ê–¢–ê**

**–ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ù–ï–ú–ï–î–õ–ï–ù–ù–û!**
