# üìã –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å DZEN_COOKIES_JSON –≤ GitHub Secrets

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

–ü–æ–ª—É—á–∏—Ç—å –∫—É–∫–∏ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö –≤ GitHub –∫–∞–∫ Secret.

---

## üìç –®–ê–ì–ò

### ‚úÖ –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å –∫—É–∫–∏ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞

#### –°–ø–æ—Å–æ–± A: –ß–µ—Ä–µ–∑ DevTools (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://dzen.ru –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ó–∞–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å —Å–æ —Å–≤–æ–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º
3. –ù–∞–∂–º–∏—Ç–µ F12 (–æ—Ç–∫—Ä—ã—Ç—å DevTools)
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Application"
5. –í –ª–µ–≤–æ–º –º–µ–Ω—é: Cookies ‚Üí dzen.ru
6. –í—ã –≤–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫—É–∫–∏
```

**–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é:**

```json
[
  {
    "name": "–ø–µ—Ä–≤–æ–µ_–∏–º—è_–∫—É–∫–∏",
    "value": "–ø–µ—Ä–≤–æ–µ_–∑–Ω–∞—á–µ–Ω–∏–µ",
    "domain": ".dzen.ru",
    "path": "/"
  },
  {
    "name": "–≤—Ç–æ—Ä–æ–µ_–∏–º—è_–∫—É–∫–∏",
    "value": "–≤—Ç–æ—Ä–æ–µ_–∑–Ω–∞—á–µ–Ω–∏–µ",
    "domain": ".dzen.ru",
    "path": "/"
  }
]
```

**–ò–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å (–µ—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç):**
- Right-click –Ω–∞ –ª—é–±–æ–π –∫—É–∫–∏
- "Export as cURL" –∏–ª–∏ "Copy as JSON"
- –í—Å—Ç–∞–≤–∏—Ç—å –≤ GitHub Secret

#### –°–ø–æ—Å–æ–± B: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

```javascript
// 1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
// 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ "Console"
// 3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

copy(JSON.stringify(
  document.cookie.split('; ').map(c => {
    const [name, value] = c.split('=');
    return {
      name: decodeURIComponent(name),
      value: decodeURIComponent(value),
      domain: '.dzen.ru',
      path: '/'
    };
  })
))

// 4. –ö—É–∫–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
// 5. –í—Å—Ç–∞–≤–∏—Ç—å –≤ GitHub Secret
```

---

### ‚úÖ –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –≤ GitHub Secrets

```
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–ø–æ: https://github.com/crosspostly/dzen

2. Settings ‚Üí Secrets and variables ‚Üí Actions
   (–ø—Ä—è–º–æ–π URL: https://github.com/crosspostly/dzen/settings/secrets/actions)

3. –ù–∞–∂–º–∏—Ç–µ "New repository secret" (–∑–µ–ª–µ–Ω–∞—è –∫–Ω–æ–ø–∫–∞)

4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   
   Name:  DZEN_COOKIES_JSON
   Value: [–≤—Å—Ç–∞–≤–∏—Ç—å JSON —Å –∫—É–∫–∞–º–∏]

5. –ù–∞–∂–º–∏—Ç–µ "Add secret"
```

**Screenshot –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π:**
```
GitHub Settings
‚îú‚îÄ Secrets and variables  ‚Üê –ù—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å
‚îÇ  ‚îú‚îÄ Actions             ‚Üê –ù—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å
‚îÇ  ‚îÇ  ‚îú‚îÄ Repository secrets (—Å–ø–∏—Å–æ–∫)
‚îÇ  ‚îÇ  ‚îî‚îÄ [New repository secret] –∫–Ω–æ–ø–∫–∞
‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ [Form]
‚îÇ     ‚îú‚îÄ Name: DZEN_COOKIES_JSON
‚îÇ     ‚îú‚îÄ Value: [JSON]
‚îÇ     ‚îî‚îÄ [Add secret] –∫–Ω–æ–ø–∫–∞
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è Secret:

```
1. GitHub.com ‚Üí Settings ‚Üí Secrets
2. –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞: DZEN_COOKIES_JSON [3 —Ç–æ—á–∫–∏]
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ 3 —Ç–æ—á–∫–∏
4. –ù–∞–∂–º–∏—Ç–µ "Edit"
5. Value –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–∫—Ä—ã—Ç (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
6. –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —Å—É–º–º—É —Å–∏–º–≤–æ–ª–æ–≤ - –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ!
```

---

## üîç –§–û–†–ú–ê–¢ –ö–£–ö–ò

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π JSON:

```json
[
  {
    "name": "yandexuid",
    "value": "abc123def456...",
    "domain": ".dzen.ru",
    "path": "/"
  },
  {
    "name": "sessionid",
    "value": "xyz789...",
    "domain": ".dzen.ru",
    "path": "/"
  },
  {
    "name": "another_cookie",
    "value": "value_here",
    "domain": ".dzen.ru",
    "path": "/"
  }
]
```

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (–µ—Å–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç –Ω–µ–ø–æ–ª–Ω—ã–π):

```json
[
  {"name": "cookie1", "value": "val1"},
  {"name": "cookie2", "value": "val2"}
]
```

–î–æ–º–µ–Ω –∏ path –¥–æ–±–∞–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

## ‚ö†Ô∏è –ß–ê–°–¢–´–ï –û–®–ò–ë–ö–ò

### ‚ùå "Invalid JSON"

```
–ü—Ä–∏—á–∏–Ω–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π JSON —Ñ–æ—Ä–º–∞—Ç

–†–µ—à–µ–Ω–∏–µ:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ https://jsonlint.com/
2. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞
```

### ‚ùå "Secret value is too long"

```
–ü—Ä–∏—á–∏–Ω–∞: –ö—É–∫–∏ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ

–†–µ—à–µ–Ω–∏–µ:
1. –£–¥–∞–ª–∏—Ç–µ –ª–∏—à–Ω–∏–µ –∫—É–∫–∏ (–æ—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ)
2. –£–¥–∞–ª–∏—Ç–µ –ª–∏—à–Ω–∏–µ –ø–æ–ª—è (–Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ name –∏ value)
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞
```

### ‚ùå "Invalid secret name"

```
–ü—Ä–∏—á–∏–Ω–∞: –ò–º—è secret –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- Name = DZEN_COOKIES_JSON (—Ç–æ—á–Ω–æ!)
- –ë–æ–ª—å—à–∏–µ –±—É–∫–≤—ã –∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è
- –ù–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
```

---

## üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### ‚úÖ –ß—Ç–æ –±—É–¥–µ—Ç –∑–∞—â–∏—â–µ–Ω–æ:

```
‚úì GitHub –®–ò–§–†–£–ï–¢ –∫—É–∫–∏ (AES-256)
‚úì –ö—É–∫–∏ –í–ò–î–ù–´ —Ç–æ–ª—å–∫–æ –≤ GitHub Settings
‚úì –ö—É–∫–∏ –ù–ï –≤–∏–¥–Ω—ã –≤ –ª–æ–≥–∞—Ö workflow'–∞
‚úì –ö—É–∫–∏ –ù–ï –≤–∏–¥–Ω—ã –≤ commit'–∞—Ö
‚úì –ö—É–∫–∏ –ù–ï –≤–∏–¥–Ω—ã –≤ –∞—Ä—Ç–∏—Ñ–∞–∫—Ç–∞—Ö
‚úì –ö—É–∫–∏ –£–î–ê–õ–Ø–Æ–¢–°–Ø –ø–æ—Å–ª–µ workflow'–∞
```

### ‚ö†Ô∏è –ß—Ç–æ –ù–ï–õ–¨–ó–Ø –¥–µ–ª–∞—Ç—å:

```
‚ùå –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ –∫—É–∫–∏ –≤ Issues
‚ùå –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ –∫—É–∫–∏ –≤ Pull Requests
‚ùå –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ –∫—É–∫–∏ –≤ commit messages
‚ùå –ù–µ –¥–µ–ª–∏—Ç–µ—Å—å –∫—É–∫–∞–º–∏ –ø–æ email/Discord
‚ùå –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –∫—É–∫–∏ –≤ –∫–æ–¥–µ
‚ùå –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∫—É–∫–∏ –≤ —Ñ–∞–π–ª–∞—Ö
```

---

## ‚ú® –í–°–Å –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è Secret –º–æ–∂–Ω–æ:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å workflow –≤—Ä—É—á–Ω—É—é:**
   - GitHub.com ‚Üí Actions
   - –í—ã–±–µ—Ä–∏—Ç–µ "ü§ñ Auto-Publish to Dzen Every 3 Hours"
   - "Run workflow" ‚Üí "Run workflow"

2. **–ò–ª–∏ –∂–¥–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:**
   - –ö–∞–∂–¥—ã–µ 3 —á–∞—Å–∞ (00:00, 03:00, 06:00 –∏ —Ç.–¥. UTC)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–µ–π

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
   - GitHub.com ‚Üí Actions ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π run
   - –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ published_articles.txt

---

## üìû –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –ü–û–õ–£–ß–ò–õ–û–°–¨

```
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ JSON –Ω–∞ https://jsonlint.com/
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Secret = DZEN_COOKIES_JSON
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫—É–∫–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞ –î–∑–µ–Ω–∞
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–µ –∫—É–∫–∏ (–∫—É–∫–∏ –º–æ–≥–ª–∏ –∏—Å—Ç–µ—á—å)
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±—Ä–∞—É–∑–µ—Ä (–ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä)
```

---

## üèÉ –õ–û–ö–ê–õ–¨–ù–´–ô –ó–ê–ü–£–°–ö

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Windows:

```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd C:\Users\[YOUR_USER]\OneDrive\Desktop\projects\dzen

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –ø–µ—Ä–≤—ã–π —Ä–∞–∑)
npm install

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–ø—É–±–ª–∏—à–µ—Ä
node !posts\zen_auto_publisher.js
```

**–í–∞–∂–Ω–æ:** –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø—É—Ç—å –≤ —Å–∫—Ä–∏–ø—Ç–µ:
```javascript
// –í —Ñ–∞–π–ª–µ zen_auto_publisher.js –Ω–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
const feedContent = await fs.readFile('C:\\Users\\varsm\\OneDrive\\Desktop\\projects\\dzen\\public\\feed.xml', 'utf8');

// –ó–∞–º–µ–Ω–∏—Ç–µ –ø—É—Ç—å –Ω–∞ –≤–∞—à –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É feed.xml
```

---

## ü§ñ –ò–°–ü–û–õ–¨–ó–£–ï–ú–´–ï –°–ï–õ–ï–ö–¢–û–†–´

–°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –î–∑–µ–Ω—É:

| –î–µ–π—Å—Ç–≤–∏–µ | –°–µ–ª–µ–∫—Ç–æ—Ä | –¢–∏–ø |
|----------|----------|-----|
| –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é" | `[data-testid="add-publication-button"]` | data-testid |
| –ö–Ω–æ–ø–∫–∞ "–ù–∞–ø–∏—Å–∞—Ç—å —Å—Ç–∞—Ç—å—é" | `text="–ù–∞–ø–∏—Å–∞—Ç—å —Å—Ç–∞—Ç—å—é"` | text matcher |
| –ö–Ω–æ–ø–∫–∞ "–í—Å—Ç–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ" | `button.article-editor-desktop--side-button__sideButton-1z[data-tip="–í—Å—Ç–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"]` | class + data-tip |
| –ü–µ—Ä–≤–∞—è –∫–Ω–æ–ø–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ | `:has-text("–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å"):not([disabled])` | text matcher |
| –ö–Ω–æ–ø–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è | `button[data-testid="publish-btn"][type="submit"]` | data-testid + type |

---

**Status: ‚úÖ READY**

–¢–µ–ø–µ—Ä—å GitHub Actions —Å–º–æ–∂–µ—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—å–∏ –≤ –î–∑–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! üöÄ
